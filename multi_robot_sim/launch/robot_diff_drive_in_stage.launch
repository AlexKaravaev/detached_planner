<launch>
  <master auto="start"/>
  <param name="/use_sim_time" value="true"/>

<!--
<node pkg="tf" type="static_transform_publisher" name="map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map /base_link 1000"/>
<node pkg="tf" type="static_transform_publisher" name="link_to_odom" args="0.0 0.0 0.0 0 0 0.0 /base_link      /odom 1000"/>
-->

<!--  ****** Maps *****  -->
<node name="map_server" pkg="map_server" type="map_server" args="$(find multi_robot_sim)/maps/maze.yaml" output="screen">
    <param name="frame_id" value="map"/>
</node>


<!--  ************** Stage Simulator ***************  -->
<node pkg="stage_ros" type="stageros" name="stageros" args="$(find multi_robot_sim)/stage/maze_diff_drive.world">
    <param name="base_watchdog_timeout" value="0.2"/>
</node>
<group ns="robot_0">
    <param name="tf_prefix" value="robot_0" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_0/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_0/base_link" />
      <param name="local_costmap/global_frame" value="robot_0/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_0/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_0/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_0/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_0/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_0/odom" />
      <param name="base_frame_id" value="robot_0/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_0/odom" />
        <param name="base_frame_id" value="robot_0/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_0_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_0/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_0_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_0/base_scan 1000"/>
<group ns="robot_1">
    <param name="tf_prefix" value="robot_1" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_1/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_1/base_link" />
      <param name="local_costmap/global_frame" value="robot_1/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_1/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_1/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_1/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_1/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_1/odom" />
      <param name="base_frame_id" value="robot_1/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_1/odom" />
        <param name="base_frame_id" value="robot_1/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_1_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_1/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_1_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_1/base_scan 1000"/>
<group ns="robot_2">
    <param name="tf_prefix" value="robot_2" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_2/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_2/base_link" />
      <param name="local_costmap/global_frame" value="robot_2/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_2/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_2/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_2/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_2/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_2/odom" />
      <param name="base_frame_id" value="robot_2/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_2/odom" />
        <param name="base_frame_id" value="robot_2/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_2_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_2/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_2_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_2/base_scan 1000"/>
<group ns="robot_3">
    <param name="tf_prefix" value="robot_3" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_3/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_3/base_link" />
      <param name="local_costmap/global_frame" value="robot_3/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_3/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_3/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_3/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_3/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_3/odom" />
      <param name="base_frame_id" value="robot_3/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_3/odom" />
        <param name="base_frame_id" value="robot_3/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_3_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_3/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_3_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_3/base_scan 1000"/>
<group ns="robot_4">
    <param name="tf_prefix" value="robot_4" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_4/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_4/base_link" />
      <param name="local_costmap/global_frame" value="robot_4/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_4/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_4/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_4/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_4/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_4/odom" />
      <param name="base_frame_id" value="robot_4/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_4/odom" />
        <param name="base_frame_id" value="robot_4/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_4_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_4/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_4_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_4/base_scan 1000"/>
<group ns="robot_5">
    <param name="tf_prefix" value="robot_5" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_5/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_5/base_link" />
      <param name="local_costmap/global_frame" value="robot_5/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_5/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_5/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_5/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_5/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_5/odom" />
      <param name="base_frame_id" value="robot_5/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_5/odom" />
        <param name="base_frame_id" value="robot_5/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_5_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_5/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_5_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_5/base_scan 1000"/>
<group ns="robot_6">
    <param name="tf_prefix" value="robot_6" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_6/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_6/base_link" />
      <param name="local_costmap/global_frame" value="robot_6/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_6/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_6/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_6/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_6/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_6/odom" />
      <param name="base_frame_id" value="robot_6/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_6/odom" />
        <param name="base_frame_id" value="robot_6/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_6_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_6/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_6_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_6/base_scan 1000"/>
<group ns="robot_7">
    <param name="tf_prefix" value="robot_7" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_7/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_7/base_link" />
      <param name="local_costmap/global_frame" value="robot_7/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_7/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_7/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_7/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_7/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_7/odom" />
      <param name="base_frame_id" value="robot_7/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_7/odom" />
        <param name="base_frame_id" value="robot_7/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_7_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_7/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_7_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_7/base_scan 1000"/>
<group ns="robot_8">
    <param name="tf_prefix" value="robot_8" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_8/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_8/base_link" />
      <param name="local_costmap/global_frame" value="robot_8/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_8/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_8/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_8/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_8/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_8/odom" />
      <param name="base_frame_id" value="robot_8/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_8/odom" />
        <param name="base_frame_id" value="robot_8/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_8_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_8/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_8_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_8/base_scan 1000"/>
<group ns="robot_9">
    <param name="tf_prefix" value="robot_9" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_9/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_9/base_link" />
      <param name="local_costmap/global_frame" value="robot_9/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_9/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_9/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_9/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_9/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_9/odom" />
      <param name="base_frame_id" value="robot_9/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_9/odom" />
        <param name="base_frame_id" value="robot_9/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_9_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_9/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_9_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_9/base_scan 1000"/>
<group ns="robot_10">
    <param name="tf_prefix" value="robot_10" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_10/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_10/base_link" />
      <param name="local_costmap/global_frame" value="robot_10/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_10/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_10/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_10/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_10/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_10/odom" />
      <param name="base_frame_id" value="robot_10/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_10/odom" />
        <param name="base_frame_id" value="robot_10/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_10_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_10/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_10_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_10/base_scan 1000"/>
<group ns="robot_11">
    <param name="tf_prefix" value="robot_11" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_11/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_11/base_link" />
      <param name="local_costmap/global_frame" value="robot_11/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_11/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_11/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_11/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_11/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_11/odom" />
      <param name="base_frame_id" value="robot_11/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_11/odom" />
        <param name="base_frame_id" value="robot_11/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_11_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_11/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_11_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_11/base_scan 1000"/>
<group ns="robot_12">
    <param name="tf_prefix" value="robot_12" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_12/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_12/base_link" />
      <param name="local_costmap/global_frame" value="robot_12/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_12/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_12/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_12/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_12/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_12/odom" />
      <param name="base_frame_id" value="robot_12/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_12/odom" />
        <param name="base_frame_id" value="robot_12/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_12_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_12/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_12_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_12/base_scan 1000"/>
<group ns="robot_13">
    <param name="tf_prefix" value="robot_13" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_13/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_13/base_link" />
      <param name="local_costmap/global_frame" value="robot_13/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_13/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_13/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_13/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_13/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_13/odom" />
      <param name="base_frame_id" value="robot_13/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_13/odom" />
        <param name="base_frame_id" value="robot_13/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_13_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_13/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_13_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_13/base_scan 1000"/>
<group ns="robot_14">
    <param name="tf_prefix" value="robot_14" />
    <node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">
      <remap from="map" to="/map" />
      <param name="controller_frequency" value="10.0" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/costmap_common_params.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find multi_robot_sim)/cfg/local_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/global_costmap_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/base_local_planner_params.yaml" command="load" />
      <rosparam file="$(find multi_robot_sim)/cfg/move_base.yaml" command="load" />
      <param name="local_costmap/robot_base_frame" value="robot_14/base_link" />
      <param name="global_costmap/robot_base_frame" value="robot_14/base_link" />
      <param name="local_costmap/global_frame" value="robot_14/odom" />

      <param name="base_global_planner" value="detached_planner/GlobalPlanner" />
      <param name="global_costmap/obstacle_layer/observation_sources" value="robot_14/base_scan" />
      <param name="local_costmap/obstacle_layer/observation_sources" value="robot_14/base_scan" />
      <param name="global_costmap/observation_sources" value="robot_14/base_scan" />
      <param name="local_costmap/observation_sources" value="robot_14/base_scan" />

    </node>


    <node pkg="fake_localization" type="fake_localization" name="fake_localization" respawn="false" output="screen">
      <param name="odom_frame_id" value="robot_14/odom" />
      <param name="base_frame_id" value="robot_14/base_link" />
    </node>

    <!--
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="base_scan"/>
        <param name="odom_frame_id" value="robot_14/odom" />
        <param name="base_frame_id" value="robot_14/base_link" />
        <param name="global_frame_id" value="/map" />
        <param name="use_map_topic" value="true" />
        <param name="odom_model_type" value="diff" />

    </node>
    -->
</group>

<!--
<node pkg="tf" type="static_transform_publisher" name="robot_14_map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map       /robot_14/odom 1000"/>
-->
<node pkg="tf" type="static_transform_publisher" name="robot_14_map_to_scan" args="0.0 0.0 0.0 0 0 0.0 /map /robot_14/base_scan 1000"/>
<node name="rviz" pkg="rviz" type="rviz" args="-d $(find multi_robot_sim)/cfg/multi_robot.rviz" />

</launch>
